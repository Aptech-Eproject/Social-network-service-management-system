# ============================================
# üö™ API GATEWAY CONFIGURATION
# ============================================

# Service Configuration
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://+:8000

# ============================================
# üîê JWT AUTHENTICATION
# ============================================

JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-chars-long-for-security
JWT_ISSUER=snms-api-gateway
JWT_AUDIENCE=snms-services
JWT_EXPIRY_MINUTES=60
JWT_REFRESH_EXPIRY_DAYS=7

# Internal Service Authentication
INTERNAL_API_KEY=your-internal-api-key-for-ssr-to-gateway
INTERNAL_SERVICE_TOKEN=your-internal-service-token
ENABLE_INTERNAL_AUTH=true
INTERNAL_AUTH_HEADER=X-Internal-API-Key

# ============================================
# üåê YARP REVERSE PROXY ROUTES
# ============================================

# Internal Service URLs (Docker network)
USER_SERVICE_URL=http://user-service:8081
SOCIAL_SERVICE_URL=http://social-service:8082

# Health Check Endpoints
USER_SERVICE_HEALTH=http://user-service:8081/health
SOCIAL_SERVICE_HEALTH=http://social-service:8082/health

# ============================================
# üîí CORS CONFIGURATION
# ============================================

# Allowed Origins (Frontend only - no direct client access)
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# CORS Settings
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE_SECONDS=3600
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Internal-API-Key

# Security Headers
ENABLE_SECURITY_HEADERS=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERER_POLICY=strict-origin-when-cross-origin

# ============================================
# üìä LOGGING & MONITORING
# ============================================

# Logging Configuration
LOG_LEVEL=Information
LOG_TO_CONSOLE=true
LOG_TO_FILE=false
LOG_FILE_PATH=/app/logs/gateway.log

# Request Logging
LOG_REQUESTS=true
LOG_RESPONSES=false
LOG_REQUEST_HEADERS=false

# ============================================
# ‚ö° PERFORMANCE & LIMITS
# ============================================

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# Request Timeout
REQUEST_TIMEOUT_SECONDS=30
GATEWAY_TIMEOUT_SECONDS=60

# ============================================
# üîß DEVELOPMENT SETTINGS
# ============================================

# Hot Reload
DOTNET_USE_POLLING_FILE_WATCHER=true
DOTNET_WATCH_RESTART_ON_RUDE_EDIT=true

# Swagger/OpenAPI
ENABLE_SWAGGER=true
SWAGGER_ROUTE_PREFIX=swagger

# Development Features
ENABLE_DETAILED_ERRORS=true
ENABLE_REQUEST_TRACING=true